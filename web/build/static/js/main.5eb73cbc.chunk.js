(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{185:function(e,t,a){e.exports=a(369)},190:function(e,t,a){},192:function(e,t,a){},20:function(e,t){e.exports={__API_URL:"http://localhost:8080/",__CLIENT_ID_GOOGLE:"963599606858-in6i1heuevd9f6n5ndjld4mu30pka66e.apps.googleusercontent.com"}},274:function(e,t){},369:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),s=a(87),c=a.n(s);a(190),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(12),i=a.n(o),l=a(18),m=(a(192),a(23)),u=a(90),p=a(61),d=a(46),g=a(377);function h(e,t){try{localStorage.setItem(e,t)}catch(a){return!1}}function f(e){try{return localStorage.getItem(e)}catch(t){return null}}var b=a(20),E=a(91);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y={isSignedIn:!1,hasLoadedUserData:!1},w=a(25),S=a(26),O=a(28),j=a(27),k=a(29),x=function(e){function t(){return Object(w.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=document.createElement("script");e.id="script-mp",e.src="https://www.mercadopago.com.ar/integrations/v1/web-tokenize-checkout.js",e.dataset.transactionAmount=this.props.ammount,e.dataset.buttonLabel=this.props.text,e.dataset.publicKey="TEST-7af68b1a-40c3-443b-8f30-7aef37a45c65",e.async=!0,document.getElementById("form-mercadopago").appendChild(e)}},{key:"render",value:function(){return r.a.createElement("form",{action:"".concat(b.__API_URL,"process-payment"),method:"POST",id:"form-mercadopago"})}}]),t}(r.a.PureComponent),D=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("span",{className:"copyright"},"Copyright \xa9 Your Website 2019")),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("ul",{className:"list-inline social-buttons"},r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://instagram.com/premiateok"},r.a.createElement("i",{className:"fab fa-instagram"}))))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("ul",{className:"list-inline quicklinks"},r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("a",{target:"_blank",href:"politicas.html"},"Pol\xedticas de privacidad")))))))},T=function(){return r.a.createElement("header",{className:"masthead bg-gradient"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"intro-text"},r.a.createElement("div",{className:"intro-heading text-uppercase"},"Nos encanta regalar cosas"),r.a.createElement("img",{src:"img/logo-premiate-sonrisa.png",className:"float",alt:"Logo Premiate"}))))},_=a(375),C=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={isSignedIn:!1,hasAcceptedTerms:!1},a.fetchLogIn=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(b.__API_URL,"getUserData?email=").concat(t),n&&(r+="&password=".concat(n)),e.next=4,fetch(r);case 4:if(200!==(s=e.sent).status){e.next=15;break}return e.next=8,s.json();case 8:c=e.sent,a.props.setJwtToken(c.jwtToken),a.props.setUserData(c),a.props.setLogIn(),h("email",t),e.next=16;break;case 15:g.a.warning({placement:"bottomRight",message:"Usuario y/o contrase\xf1a inv\xe1lidos"});case 16:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.onHandleGoogleLogIn=function(){a.props.auth2.signIn().then(Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.props.auth2.currentUser.get().getBasicProfile().getEmail(),a.fetchLogIn(t);case 2:case"end":return e.stop()}}),e)}))))},a.onHandleLogOut=function(){a.props.auth2.signOut().then((function(){var e;a.props.setLogOut(),e="email",localStorage.removeItem(e)}))},a.onHandleCreateUserFromGoogle=function(e){e.preventDefault(),a.state.hasAcceptedTerms?a.props.auth2.signIn().then(Object(l.a)(i.a.mark((function e(){var t,n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.auth2.currentUser.get().getBasicProfile(),n=JSON.stringify({googleData:{avatar:t.getImageUrl(),googleId:t.getId(),userName:t.getName()},surname:t.getFamilyName(),name:t.getGivenName(),email:t.getEmail()}),e.next=4,fetch("".concat(b.__API_URL,"createAccountFromGoogle"),{method:"POST",body:n,headers:{"Content-Type":"application/json"}});case 4:if(200!==(r=e.sent).status){e.next=14;break}return e.next=8,r.json();case 8:s=e.sent,a.props.setJwtToken(s.jwtToken),a.props.setUserData(s),a.props.setLogIn(),e.next=15;break;case 14:204===r.status&&g.a.warning({placement:"bottomRight",message:"Ya hay un usuario registrado con esta cuenta"});case 15:case"end":return e.stop()}}),e)})))):g.a.warning({placement:"bottomRight",message:"Debe aceptar los t\xe9rminos"})},a.onHandleCreateUser=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,s,c,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a.state.hasAcceptedTerms){e.next=24;break}if(t.preventDefault(),n=a.state,r=n.createEmail,s=n.createPassword,!r||!s){e.next=21;break}return c=JSON.stringify({email:a.state.createEmail,password:a.state.createPassword}),e.next=8,fetch("".concat(b.__API_URL,"createAccount"),{method:"POST",body:c,headers:{"Content-Type":"application/json"}});case 8:if(200!==(o=e.sent).status){e.next=18;break}return e.next=12,o.json();case 12:l=e.sent,a.props.setJwtToken(l.jwtToken),a.props.setUserData(l),a.props.setLogIn(),e.next=19;break;case 18:204===o.status&&g.a.warning({placement:"bottomRight",message:"Ya hay un usuario registrado con ese email"});case 19:e.next=22;break;case 21:g.a.warning({placement:"bottomRight",message:"Debe ingresar un usuario y contrase\xf1a"});case 22:e.next=25;break;case 24:g.a.warning({placement:"bottomRight",message:"Debe aceptar los t\xe9rminos"});case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onHandleLogin=function(e){e.preventDefault();var t=a.state,n=t.loginEmail,r=t.loginPassword;n&&r?a.fetchLogIn(n,r):g.a.warning({placement:"bottomRight",message:"Debe ingresar un usuario y contrase\xf1a"})},a.onHandleChangeLoginEmail=function(e){a.setState({loginEmail:e.target.value})},a.onHandleChangeLoginPassword=function(e){a.setState({loginPassword:e.target.value})},a.onHandleChangeCreateEmail=function(e){a.setState({createEmail:e.target.value})},a.onHandleChangeCreatePassword=function(e){a.setState({createPassword:e.target.value})},a.onHandleTermsChange=function(e){a.setState({hasAcceptedTerms:e.target.checked})},a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return this.props.hasLoadedUserData?this.props.isSignedIn?r.a.createElement(r.a.Fragment,null,this.props.userData.name&&r.a.createElement("span",{className:"nav-link"},"Hola ",this.props.userData.name,"!"),r.a.createElement("div",{className:"nav-link credits-container"},r.a.createElement("i",{className:"fas fa-money-bill-wave"}),this.props.userData.credits),r.a.createElement(p.b,{to:"/cuenta",className:"nav-link js-scroll-trigger"},"Mi perfil"),r.a.createElement("a",{className:"nav-link js-scroll-trigger",onClick:this.onHandleLogOut,href:"#contact"},"LOG OUT")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"nav-item dropdown"},r.a.createElement("button",{className:"nav-link dropdown-toggle",id:"navbarDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Crear cuenta"),r.a.createElement("div",{className:"dropdown-menu login-box","aria-labelledby":"navbarDropdown"},r.a.createElement("button",{className:"nav-link js-scroll-trigger text-gray",onClick:this.onHandleCreateUserFromGoogle},"Crear desde ",r.a.createElement("i",{className:"fab fa-google"})),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("form",null,r.a.createElement("input",{className:"login-input",type:"text",placeholder:"Email",onChange:this.onHandleChangeCreateEmail}),r.a.createElement("input",{className:"login-input",type:"password",placeholder:"Contrase\xf1a",onChange:this.onHandleChangeCreatePassword}),r.a.createElement(_.a,{onChange:this.onHandleTermsChange},"Acepto los ",r.a.createElement("a",{href:"politicas.html",target:"_blank"},"t\xe9rminos")),r.a.createElement("button",{className:"btn btn-success login-button",onClick:this.onHandleCreateUser},"Crear")))),r.a.createElement("div",{className:"nav-item dropdown"},r.a.createElement("button",{className:"nav-link dropdown-toggle",id:"navbarDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Ingresar"),r.a.createElement("div",{className:"dropdown-menu login-box","aria-labelledby":"navbarDropdown"},r.a.createElement("button",{className:"nav-link js-scroll-trigger text-gray",onClick:this.onHandleGoogleLogIn},"Entrar desde ",r.a.createElement("i",{className:"fab fa-google"})),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("form",null,r.a.createElement("input",{className:"login-input",type:"text",placeholder:"Email",onChange:this.onHandleChangeLoginEmail}),r.a.createElement("input",{className:"login-input",type:"password",placeholder:"Contrase\xf1a",onChange:this.onHandleChangeLoginPassword}),r.a.createElement("button",{className:"btn btn-success login-button",onClick:this.onHandleLogin},"Entrar"))))):r.a.createElement("i",{className:"fas fa-circle-notch fa-spin"})}}]),t}(r.a.PureComponent),L=Object(m.b)((function(e){return{isSignedIn:e.isSignedIn,userData:e.userData,hasLoadedUserData:e.hasLoadedUserData,auth2:e.auth2}}),(function(e){return{setJwtToken:function(t){e({type:"SET_JWT_TOKEN",payload:t})},setUserData:function(t){e({type:"SET_USER_DATA",payload:t})},setLogIn:function(){e({type:"LOG_IN"})},setLogOut:function(){e({type:"LOG_OUT"})},setHasLoadedUserData:function(){e({type:"SET_HAS_LOADED_USER_DATA"})}}}))(C),I=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark fixed-top",id:"mainNav"},r.a.createElement("div",{className:"container"},r.a.createElement(p.b,{to:"/",className:"navbar-brand js-scroll-trigger"},r.a.createElement("img",{src:"img/logo-premiate.png",alt:""})),r.a.createElement("button",{className:"navbar-toggler navbar-toggler-right",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},"Menu",r.a.createElement("i",{className:"fas fa-bars"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},r.a.createElement("ul",{className:"navbar-nav text-uppercase ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link js-scroll-trigger",href:"#services"},"Services")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link js-scroll-trigger",href:"#portfolio"},"Portfolio")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link js-scroll-trigger",href:"#about"},"About")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link js-scroll-trigger",href:"#team"},"Team")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link js-scroll-trigger",href:"#contact"},"Contact"))))),r.a.createElement("div",{className:"pull-right"},r.a.createElement(L,null)))},U=function(){return r.a.createElement("section",{className:"page-section",id:"services"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12 text-center"},r.a.createElement("h2",{className:"section-heading text-uppercase"},"Services"),r.a.createElement("h3",{className:"section-subheading text-muted"},"Lorem ipsum dolor sit amet consectetur."))),r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("span",{className:"fa-stack fa-4x"},r.a.createElement("i",{className:"fas fa-circle fa-stack-2x text-primary"}),r.a.createElement("i",{className:"fas fa-shopping-cart fa-stack-1x fa-inverse"})),r.a.createElement("h4",{className:"service-heading"},"E-Commerce"),r.a.createElement("p",{className:"text-muted"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Minima maxime quam architecto quo inventore harum ex magni, dicta impedit.")),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("span",{className:"fa-stack fa-4x"},r.a.createElement("i",{className:"fas fa-circle fa-stack-2x text-primary"}),r.a.createElement("i",{className:"fas fa-laptop fa-stack-1x fa-inverse"})),r.a.createElement("h4",{className:"service-heading"},"Responsive Design"),r.a.createElement("p",{className:"text-muted"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Minima maxime quam architecto quo inventore harum ex magni, dicta impedit.")),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("span",{className:"fa-stack fa-4x"},r.a.createElement("i",{className:"fas fa-circle fa-stack-2x text-primary"}),r.a.createElement("i",{className:"fas fa-lock fa-stack-1x fa-inverse"})),r.a.createElement("h4",{className:"service-heading"},"Web Security"),r.a.createElement("p",{className:"text-muted"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Minima maxime quam architecto quo inventore harum ex magni, dicta impedit.")))))},P=a(374),A=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={isSuscribed:a.props.isSuscribed,isModalVisible:!1},a.onSuscribe=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify({jwtToken:a.props.jwtToken,sorteoId:a.props.id,email:a.props.userData.email}),e.next=3,fetch("".concat(b.__API_URL,"suscribeToSorteo"),{method:"POST",body:t,headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.status;case 6:200===e.sent?(a.setState({isSuscribed:!0}),g.a.success({placement:"bottomRight",message:"Te has suscripto exitosamente!"})):g.a.success({placement:"bottomRight",message:"No te has podido subscribir en este momento, int\xe9ntalo de nuevo m\xe1s tarde"});case 8:case"end":return e.stop()}}),e)}))),a.onUnSuscribe=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify({jwtToken:a.props.jwtToken,sorteoId:a.props.id,email:a.props.userData.email}),e.next=3,fetch("".concat(b.__API_URL,"unSuscribeToSorteo"),{method:"POST",body:t,headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.status;case 6:200===e.sent?(a.setState({isSuscribed:!1}),g.a.success({placement:"bottomRight",message:"Te has desubscripto exitosamente!"})):g.a.success({placement:"bottomRight",message:"No te has podido desubscribir en este momento, int\xe9ntalo de nuevo m\xe1s tarde"});case 8:case"end":return e.stop()}}),e)}))),a.handleClick=function(e){e.preventDefault(),a.setState({isModalVisible:!0})},a.handleCancel=function(e){e.preventDefault(),a.setState({isModalVisible:!1})},a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{title:this.props.titulo,visible:this.state.isModalVisible,centered:!0,onCancel:this.handleCancel,footer:null},r.a.createElement("img",{className:"img-fluid d-block mx-auto img-sorteo",src:"img/portfolio/01-full.jpg",alt:""}),this.props.isSignedIn?this.state.isSuscribed?r.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:this.onUnSuscribe},r.a.createElement("i",{className:"fas fa-times"}),"Desinscribirse"):r.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:this.onSuscribe},r.a.createElement("i",{className:"fas fa-times"}),"Inscribirse"):r.a.createElement("p",{className:"text-center"},"Debes ingresar para participar!")),r.a.createElement("div",{className:"col-md-4 col-sm-6 portfolio-item"},r.a.createElement("div",{className:"portfolio-link",onClick:this.handleClick},r.a.createElement("div",{className:"portfolio-hover"},r.a.createElement("div",{className:"portfolio-hover-content"},r.a.createElement("i",{className:"fas fa-plus fa-3x"}))),r.a.createElement("img",{className:"img-fluid",src:"img/portfolio/01-thumbnail.jpg",alt:""})),r.a.createElement("div",{className:"portfolio-caption"},r.a.createElement("h4",null,this.props.titulo),this.state.isSuscribed?r.a.createElement("p",null,"INSCRIPTO!"):r.a.createElement("p",{className:"text-muted"},"Participa"))))}}]),t}(r.a.PureComponent),R=Object(m.b)((function(e){return{jwtToken:e.jwtToken,isSignedIn:e.isSignedIn,userData:e.userData}}))(A),H=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={sorteos:[]},a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b.__API_URL,"getSorteos"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({sorteos:a});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.userData&&this.props.userData.sorteos?this.props.userData.sorteos:[];return r.a.createElement("section",{className:"bg-light page-section",id:"portfolio"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12 text-center"},r.a.createElement("h2",{className:"section-heading text-uppercase"},"Sorteos"),r.a.createElement("h3",{className:"section-subheading text-muted"},"Lorem ipsum dolor sit amet consectetur."))),r.a.createElement("div",{className:"row"},this.state.sorteos.map((function(t,a){return r.a.createElement(R,{key:t._id,id:t._id,titulo:t.sorteo,isSuscribed:!!e[t._id]})})))))}}]),t}(r.a.PureComponent),M=Object(m.b)((function(e){return{userData:e.userData}}))(H),G=a(175),J=a.n(G),F=a(371),B=a(376),q=a(45),W=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(s)))).state={ammount:a.props.ammount,localAmmount:1,notification:"",creditsUsed:a.props.userData&&a.props.userData.creditsUsed?a.props.userData.creditsUsed:0,isRaiseButtonDisabled:!1},a.handleRaise=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,s,c,o,l,m,u,p,d,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.state,s=n.creditsUsed,c=n.localAmmount,o=n.ammount,a.props.isSignedIn){e.next=6;break}return g.a.warning({placement:"bottomRight",message:"Debes ingresar para poder subir una apuesta!"}),window.scrollTo(0,0),e.abrupt("return");case 6:if(0!==c){e.next=9;break}return g.a.warning({placement:"bottomRight",duration:15,message:"Debes ingresar un importe mayor!"}),e.abrupt("return");case 9:if(l=a.props.userData.credits,!((m=s+c)>l)){e.next=16;break}return a.setState({isRaiseButtonDisabled:!0}),u=m-l,g.a.warning({placement:"bottomRight",message:r.a.createElement(r.a.Fragment,null,"No tienes credits suficientes! Te faltan ",u," ",r.a.createElement(x,{text:"Recargar",ammount:u})),onClose:function(){return a.setState({isRaiseButtonDisabled:!1})}}),e.abrupt("return");case 16:return p=JSON.stringify({jwtToken:a.props.jwtToken,id:a.props.id,email:a.props.userData.email,name:a.props.userData.name,ammount:c+o,userAmmount:c}),e.next=19,fetch("".concat(b.__API_URL,"raiseSubasta"),{method:"POST",body:p,headers:{"Content-Type":"application/json"}});case 19:return d=e.sent,e.next=22,d.status;case 22:if(200!==e.sent){e.next=32;break}return e.next=26,d.json();case 26:h=e.sent,a.setState({creditsUsed:h.creditsUsed}),console.log(h),g.a.success({placement:"bottomRight",message:"Has podido aumentar exitosamente!"}),e.next=33;break;case 32:g.a.error({placement:"bottomRight",message:"Error, no has podido aumentar"});case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleLocalAmmount=function(e){a.setState({localAmmount:e})},a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,n,r,s,c,o,l,m,u,p,d,h,f=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new Date(this.props.dateString),(a=t.getTime()/1e3-Date.now()/1e3)>0?(n=a/60/60/24,r=Math.trunc(n),s=24*(n-r),c=Math.trunc(s),o=60*(s-c),l=Math.trunc(o),m=60*(o-l),u=Math.trunc(m),this.setState({seconds:u,minutes:l,hours:c,days:r}),p=setInterval((function(){f.setState({seconds:f.state.seconds-1});var e=f.state,t=e.seconds,a=e.hours,n=e.minutes,r=e.days;0===t&&(0===n?0===a?0===r?(f.setState({seconds:0,minutes:0,hours:0,days:0}),clearInterval(p)):(f.setState({days:r-1}),f.setState({hours:23}),f.setState({minutes:59}),f.setState({seconds:59})):(f.setState({hours:a-1}),f.setState({minutes:59}),f.setState({seconds:59})):(f.setState({minutes:n-1}),f.setState({seconds:59})))}),1e3),this.setState({interval:p})):this.setState({seconds:0,minutes:0,hours:0,days:0}),d=this,(h=J()("".concat(b.__API_URL))).on("connect",(function(){h.on("updateSubastas",(function(e){d.setState({subastas:e})})),h.on("raise-".concat(d.props.id),(function(e,t,a){t!==d.props.userData.email&&g.a.info({placement:"bottomRight",message:"".concat(a||"Un usuario "," aument\xf3 el importe a ").concat(e)}),d.setState({ammount:e})}))}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.state.interval)}},{key:"render",value:function(){var e=this.state,t=e.seconds,a=e.minutes,n=e.hours,s=e.days;return r.a.createElement(F.a,{hoverable:!0,style:{width:240},className:"card-subasta",cover:r.a.createElement("img",{alt:"parlante",width:"240",src:"https://d26lpennugtm8s.cloudfront.net/stores/105/049/products/parlante-portatil-panacom-2500w-sp30601-f7468dded3d4e9a75415126339587614-1024-1024.jpg"})},r.a.createElement("p",null,t," Segundos"),r.a.createElement("p",null,a," Minutos"),r.a.createElement("p",null,n," Horas"),r.a.createElement("p",null,s," D\xedas"),r.a.createElement("div",{className:"ammount"},this.state.ammount),r.a.createElement("form",null,r.a.createElement(B.a,{defaultValue:1,onChange:this.handleLocalAmmount,min:1}),r.a.createElement("label",null,this.state.notification),r.a.createElement(q.a,{disabled:this.state.isRaiseButtonDisabled,type:"success",onClick:this.handleRaise},"Subir apuesta")))}}]),t}(r.a.PureComponent),V=Object(m.b)((function(e){return{jwtToken:e.jwtToken,isSignedIn:e.isSignedIn,userData:e.userData}}))(W),K=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(O.a)(this,Object(j.a)(t).call(this))).state={subastas:null},e}return Object(k.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8080/getSubastas");case 2:if(200!==(t=e.sent).status){e.next=8;break}return e.next=6,t.json();case 6:a=e.sent,this.setState({subastas:a});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.subastas?r.a.createElement("section",{className:"bg-light page-section container-subastas"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12 text-center"},r.a.createElement("h2",{className:"section-heading text-uppercase"},"Subastas"),r.a.createElement("h3",{className:"section-subheading text-muted"},"Lorem ipsum dolor sit amet consectetur."))),r.a.createElement("div",{className:"row"},this.state.subastas.map((function(e){return r.a.createElement(V,{key:e._id,id:e._id,ammount:e.ammount,title:e.title,dateString:e.dateString})}))))):r.a.createElement("div",null,"No hay subastas")}}]),t}(r.a.Component),Y=a(372),z=a(373);function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var X=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={ammount:100},a.handleSubmit=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,s,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.name,s=n.surname,c=n.email,o=JSON.stringify({name:r,surname:s,email:c,queryEmail:a.props.userData.email,jwtToken:a.props.jwtToken}),e.next=5,fetch("".concat(b.__API_URL,"updateUser"),{method:"POST",body:o,headers:{"Content-Type":"application/json"}});case 5:200===e.sent.status?(a.props.dispatch({type:"SET_USER_DATA",payload:Q({},a.props.userData,{name:r,surname:s,email:c})}),g.a.success({placement:"bottomRight",message:"Los datos se han editado exitosamente!"})):g.a.error({placement:"bottomRight",message:"Error, no se han podido editar los datos"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleNameChange=function(e){a.setState({name:e.target.value})},a.handleSurnameChange=function(e){a.setState({surname:e.target.value})},a.handleEmailChange=function(e){a.setState({email:e.target.value})},a.handleAmmountChange=function(e){a.setState({ammount:e.target.value})},a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.userData,t=e.name,a=e.surname,n=e.email,r=e.googleData;this.setState({name:t,surname:a,email:n,googleData:r})}},{key:"render",value:function(){if(this.props.isSignedIn){var e=this.state,t=e.name,a=e.surname,n=e.email,s=e.googleData,c=s&&s.avatar?s.avatar:null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{hoverable:!0,className:"card-profile",cover:c?r.a.createElement("img",{alt:"avatar",className:"google-avatar",src:c}):null},r.a.createElement(Y.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit,className:"profile-form",hideRequiredMark:!0}),r.a.createElement(Y.a.Item,{label:"Nombre"},r.a.createElement(z.a,{value:t,onChange:this.handleNameChange})),r.a.createElement(Y.a.Item,{label:"Apellido"},r.a.createElement(z.a,{value:a,onChange:this.handleSurnameChange})),r.a.createElement(Y.a.Item,{label:"Email"},r.a.createElement(z.a,{value:n,onChange:this.handleEmailChange})),r.a.createElement(Y.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r.a.createElement(q.a,{type:"primary",htmlType:"submit"},"Guardar"))),r.a.createElement(x,{text:"Cargar 100 credits",ammount:100}),r.a.createElement(x,{text:"Cargar 500 credits",ammount:500}),r.a.createElement(x,{text:"Cargar 1000 credits",ammount:1e3})))}return r.a.createElement("h1",null,"Cargando!")}}]),t}(r.a.Component),Z=Object(m.b)((function(e){return{userData:e.userData,isSignedIn:e.isSignedIn,jwtToken:e.jwtToken}}))(Y.a.create({name:"register"})(X)),ee=function(){return r.a.createElement("section",{className:"bg-gradient page-section profile-section",id:"portfolio"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12 text-center"},r.a.createElement("h2",{className:"section-heading text-uppercase"},"Perfil"),r.a.createElement("h3",{className:"section-subheading text-muted"},"Lorem ipsum dolor sit amet consectetur."))),r.a.createElement("div",{className:"row"},r.a.createElement(Z,null))))},te=Object(m.b)((function(e){return{hasLoadedUserData:e.hasLoadedUserData}}))((function(e){return e.hasLoadedUserData?r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null),r.a.createElement(T,null),r.a.createElement(K,null),r.a.createElement(M,null),r.a.createElement(U,null),r.a.createElement(D,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null),r.a.createElement("h1",null,"Loading!"),r.a.createElement(D,null))})),ae=Object(m.b)((function(e){return{hasLoadedUserData:e.hasLoadedUserData}}))((function(e){return e.hasLoadedUserData?r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null),r.a.createElement(ee,null),r.a.createElement(D,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null),r.a.createElement("h1",null,"Loading!"),r.a.createElement(D,null))})),ne=Object(u.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":return N({},e,{isSignedIn:!0});case"LOG_OUT":return N({},e,{isSignedIn:!1});case"SET_USER_DATA":return N({},e,{userData:t.payload});case"SET_JWT_TOKEN":return N({},e,{jwtToken:t.payload});case"SET_HAS_LOADED_USER_DATA":return N({},e,{hasLoadedUserData:!0});case"SET_AUTH2":return N({},e,{auth2:t.payload});default:return e}}));window.gapi.load("auth2",Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.gapi.auth2.init({client_id:b.__CLIENT_ID_GOOGLE}).then(function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t.isSignedIn.get()?t.currentUser.get().getBasicProfile().getEmail():f("email"))){e.next=15;break}return e.next=4,fetch("".concat(b.__API_URL,"getUserData?email=").concat(a));case 4:if(200!==(n=e.sent).status){e.next=14;break}return e.next=8,n.json();case 8:r=e.sent,ne.dispatch({type:"SET_JWT_TOKEN",payload:r.jwtToken}),ne.dispatch({type:"SET_USER_DATA",payload:r}),ne.dispatch({type:"LOG_IN"}),e.next=15;break;case 14:204===n.status&&g.a.warning({placement:"bottomRight",message:"El usuario no existe"});case 15:ne.dispatch({type:"SET_HAS_LOADED_USER_DATA"}),ne.dispatch({type:"SET_AUTH2",payload:t});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)}))));c.a.render(r.a.createElement((function(){return r.a.createElement(m.a,{store:ne},r.a.createElement(p.a,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/"},r.a.createElement(te,null)),r.a.createElement(d.a,{path:"/cuenta"},r.a.createElement(ae,null)))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[185,1,2]]]);
//# sourceMappingURL=main.5eb73cbc.chunk.js.map